================================================================================
                    ğŸ“Š FUENTES DE DATOS - OBJETIVO 2
================================================================================

ACLARACIÃ“N IMPORTANTE:
El modelo predictivo LSTM SOLO usa datos de RMCAB, NO PostgreSQL

================================================================================
Â¿DE DÃ“NDE VIENE CADA DATO?
================================================================================

1. PM2.5 (HistÃ³rico Real)
   â”œâ”€ FUENTE: data_rmcab/rmcab_data.csv
   â”œâ”€ ORIGEN: Descargado con Postman desde API RMCAB
   â”œâ”€ TIPO: REAL (datos verificados de estaciÃ³n de referencia)
   â”œâ”€ PERÃODO: Junio-Julio 2025
   â””â”€ VARIABLE: pm25_ref

2. PM10 (HistÃ³rico Real)
   â”œâ”€ FUENTE: data_rmcab/rmcab_data.csv
   â”œâ”€ ORIGEN: Descargado con Postman desde API RMCAB
   â”œâ”€ TIPO: REAL (datos verificados de estaciÃ³n de referencia)
   â”œâ”€ PERÃODO: Junio-Julio 2025
   â””â”€ VARIABLE: pm10_ref

3. Temperatura (Simulada)
   â”œâ”€ FUENTE: Generada en modules/data_processor.py
   â”œâ”€ MÃ‰TODO: FunciÃ³n _simulate_environmental_data()
   â”œâ”€ TIPO: SINTÃ‰TICA (patrÃ³n sinusoidal + ruido)
   â”œâ”€ BASADO: Clima de BogotÃ¡ (18Â°C base, Â±5Â°C variaciÃ³n)
   â””â”€ VARIABLE: temperature

4. Humedad Relativa (Simulada)
   â”œâ”€ FUENTE: Generada en modules/data_processor.py
   â”œâ”€ MÃ‰TODO: FunciÃ³n _simulate_environmental_data()
   â”œâ”€ TIPO: SINTÃ‰TICA (patrÃ³n inverso a temperatura + ruido)
   â”œâ”€ BASADO: Clima de BogotÃ¡ (75% base, Â±15% variaciÃ³n)
   â””â”€ VARIABLE: rh

================================================================================
Â¿QUÃ‰ NO SE USA?
================================================================================

âŒ PostgreSQL
   â””â”€ RazÃ³n: Sensores Aire2, Aire4, Aire5 estÃ¡n degradados y no confiables

âŒ Sensores Aire2, Aire4, Aire5
   â””â”€ RazÃ³n: Alto desgaste, calibraciÃ³n deficiente
            â†’ Por eso se necesita modelo predictivo

âŒ API RMCAB en Tiempo Real
   â””â”€ RazÃ³n: Datos descargados previamente en CSV (mÃ¡s eficiente)
            â†’ Se evita hacer requests repetidos a la API

================================================================================
Â¿POR QUÃ‰ ESTA ESTRUCTURA?
================================================================================

OBJETIVO: Compensar degradaciÃ³n de sensores de bajo costo

PROBLEMA:
â”œâ”€ Sensores Aire2, Aire4, Aire5 no son confiables
â”œâ”€ No se pueden usar como entrenamiento
â””â”€ Necesitamos modelo predictivo basado en referencia

SOLUCIÃ“N:
â”œâ”€ Usar RMCAB como Ãºnica fuente de verdad
â”œâ”€ RMCAB es estaciÃ³n oficial de BogotÃ¡ (confiable)
â”œâ”€ Entrenar LSTM con datos de RMCAB
â””â”€ Usar modelo para predecir futuro

VENTAJAS:
â”œâ”€ Datos reales de estaciÃ³n confiable
â”œâ”€ No depende de sensores degradados
â”œâ”€ Modelo es reproducible
â””â”€ Resultados verificables

================================================================================
FLUJO DE DATOS REAL
================================================================================

Paso 1: Descargar RMCAB (una sola vez con Postman)
   â””â”€ POST a API RMCAB
      â””â”€ Guardar CSV en data_rmcab/rmcab_data.csv

Paso 2: Cargar RMCAB CSV (cada vez que entrena)
   â””â”€ modules/data_processor.load_rmcab_from_csv()
      â””â”€ Lee data_rmcab/rmcab_data.csv
         â”œâ”€ Extrae pm25_ref
         â”œâ”€ Extrae pm10_ref
         â””â”€ (temperatura y rh vienen vacÃ­as o ignoradas)

Paso 3: Simular Temperatura y Humedad
   â””â”€ modules/data_processor._simulate_environmental_data()
      â””â”€ Genera datos realistas basados en:
         â”œâ”€ PatrÃ³n sinusoidal (ciclo diario)
         â”œâ”€ Ruido gaussiano
         â””â”€ Rangos de BogotÃ¡ (18-24Â°C, 60-90% RH)

Paso 4: Preparar datos para LSTM
   â””â”€ modules/predictive_model.TimeSeriesPreprocessor.prepare_data()
      â”œâ”€ Normalizar [0, 1]
      â”œâ”€ Crear secuencias 24h
      â”œâ”€ Split 75% train / 25% test (temporal)
      â””â”€ Listo para LSTM

Paso 5: Entrenar LSTM
   â””â”€ modules/predictive_model.LSTMPredictor
      â”œâ”€ 2 capas LSTM (64, 32 neuronas)
      â”œâ”€ 3 modelos independientes (1h, 3h, 5h)
      â””â”€ Usar solo datos RMCAB

Paso 6: Predecir
   â””â”€ Generar predicciones para PM2.5 y PM10
      â”œâ”€ 1 hora adelante
      â”œâ”€ 3 horas adelante
      â””â”€ 5 horas adelante

Paso 7: Evaluar
   â””â”€ Calcular 4 mÃ©tricas:
      â”œâ”€ RMSE
      â”œâ”€ MAE
      â”œâ”€ RÂ²
      â””â”€ MAPE

Paso 8: Reportar
   â””â”€ Generar:
      â”œâ”€ CSV con mÃ©tricas
      â”œâ”€ GrÃ¡ficos PNG
      â””â”€ Visualizaciones web

================================================================================
VERIFICACIÃ“N: Â¿De dÃ³nde vienen los datos?
================================================================================

Para verificar que el modelo SOLO usa RMCAB:

1. Abre app.py
   â””â”€ Busca /api/objetivo2/train-predictor
      â””â”€ VerÃ¡s que carga:
         â””â”€ rmcab_df = processor.load_rmcab_from_csv()

2. Abre train_predictor.py
   â””â”€ Busca main()
      â””â”€ VerÃ¡s que carga:
         â””â”€ rmcab_df = data_processor.load_rmcab_from_csv()

3. Abre modules/data_processor.py
   â””â”€ Busca load_rmcab_from_csv()
      â””â”€ VerÃ¡s que lee:
         â””â”€ data_rmcab/rmcab_data.csv

4. Abre modules/predictive_model.py
   â””â”€ VerÃ¡s docstring que dice:
      â”œâ”€ "USA SOLO datos reales de RMCAB"
      â”œâ”€ "NO usa datos de PostgreSQL"
      â””â”€ "NO usa Aire2, Aire4, Aire5"

================================================================================
RESUMEN
================================================================================

âœ… PM2.5 Real:        data_rmcab/rmcab_data.csv â†’ pm25_ref
âœ… PM10 Real:         data_rmcab/rmcab_data.csv â†’ pm10_ref
âœ… Temperatura Sim:   Generada â†’ temperatura
âœ… Humedad Sim:       Generada â†’ rh

âŒ PostgreSQL:        NO USADO
âŒ Aire2/4/5:         NO USADO
âŒ API Tiempo Real:   NO USADO (datos descargados)

RESULTADO: Modelo entrenado SOLO con datos RMCAB verificados

================================================================================
VersiÃ³n: 1.0
Fecha: 2025-11-20
================================================================================
